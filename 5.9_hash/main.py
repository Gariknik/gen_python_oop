#1 
"""
–§—É–Ω–∫—Ü–∏—è hash_function()
–†–µ–∞–ª–∏–∑—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é hash_function(), –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –æ–¥–∏–Ω –∞—Ä–≥—É–º–µ–Ω—Ç:

obj ‚Äî –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç
–§—É–Ω–∫—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –≤—ã—á–∏—Å–ª—è—Ç—å —Ö–µ—à-–∑–Ω–∞—á–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ obj —Å–æ–≥–ª–∞—Å–Ω–æ —Å–ª–µ–¥—É—é—â–µ–º—É –∞–ª–≥–æ—Ä–∏—Ç–º—É:

–≤—ã—á–∏—Å–ª–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤—ã—Ä–∞–∂–µ–Ω–∏—è:
ord(obj[0]) * ord(obj[-1]) + ord(obj[1]) * ord(obj[-2]) + ord(obj[2]) * ord(obj[-3]) + ...
–≥–¥–µ obj ‚Äî –æ–±—ä–µ–∫—Ç, –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–Ω—ã–π –≤ —Å—Ç—Ä–æ–∫—É —Å –ø–æ–º–æ—â—å—é —Ñ—É–Ω–∫—Ü–∏–∏ str(). –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ —Å—É–º–º–∏—Ä–æ–≤–∞—Ç—å—Å—è –¥–æ–ª–∂–Ω—ã –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ –∏ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤, –≤—Ç–æ—Ä–æ–≥–æ –∏ –ø—Ä–µ–¥–ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ, –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ –¥–æ —Å–µ—Ä–µ–¥–∏–Ω—ã. –ï—Å–ª–∏ obj –∏–º–µ–µ—Ç –Ω–µ—á–µ—Ç–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∏–º–≤–æ–ª–æ–≤, —Ç–æ —Å–µ—Ä–µ–¥–∏–Ω–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω –ø—Ä–∏–±–∞–≤–ª—è—Ç—å—Å—è –±–µ–∑ –ø–µ—Ä–µ–º–Ω–æ–∂–µ–Ω–∏—è
–≤—ã—á–∏—Å–ª–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤—ã—Ä–∞–∂–µ–Ω–∏—è:
ord(obj[0]) * 1 - ord(obj[1]) * 2 + ord(obj[2]) * 3 - ord(obj[3]) * 4 + ...
–≥–¥–µ obj ‚Äî –æ–±—ä–µ–∫—Ç, –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–Ω—ã–π –≤ —Å—Ç—Ä–æ–∫—É —Å –ø–æ–º–æ—â—å—é —Ñ—É–Ω–∫—Ü–∏–∏ str()
–≤—ã—á–∏—Å–ª–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤—ã—Ä–∞–∂–µ–Ω–∏—è:
(temp1 * temp2) % 123456791
–≥–¥–µ temp1 ‚Äî –∑–Ω–∞—á–µ–Ω–∏–µ, –ø–æ–ª—É—á–µ–Ω–Ω–æ–µ –≤ –ø–µ—Ä–≤–æ–º —à–∞–≥–µ, temp2 ‚Äî –∑–Ω–∞—á–µ–Ω–∏–µ, –ø–æ–ª—É—á–µ–Ω–Ω–æ–µ –≤–æ –≤—Ç–æ—Ä–æ–º —à–∞–≥–µ
–∏ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ, –ø–æ–ª—É—á–µ–Ω–Ω–æ–µ –≤ —Ç—Ä–µ—Ç—å–µ–º —à–∞–≥–µ.

–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ 1. –í —Ç–µ—Å—Ç–∏—Ä—É—é—â—É—é —Å–∏—Å—Ç–µ–º—É —Å–¥–∞–π—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É, —Å–æ–¥–µ—Ä–∂–∞—â—É—é —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—É—é —Ñ—É–Ω–∫—Ü–∏—é hash_function(), –Ω–æ –Ω–µ –∫–æ–¥, –≤—ã–∑—ã–≤–∞—é—â–∏–π –µ–µ.

–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ 2. –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–æ—Å—Ç—É–ø–Ω—ã –ø–æ —Å—Å—ã–ª–∫–∞–º:

–ê—Ä—Ö–∏–≤ —Å —Ç–µ—Å—Ç–∞–º–∏
GitHub
Sample Input 1:

print(hash_function('python'))
Sample Output 1:

111998846
Sample Input 2:

print(hash_function(12345))
Sample Output 2:

834432
Sample Input 3:

print(hash_function(None))
Sample Output 3:

119077607

"""

def hash_function(obj):
  res = str(obj)
  if len(res) % 2 == 0:
    left = res[:len(res)//2+1]
    right = res[len(res)//2:][::-1]
    temp1 = sum([ord(l) * ord(r) for l, r in zip(left, right)])
  else:
    left = res[:len(res)//2]
    right = res[len(res)//2+1:][::-1]
    temp1 = sum([ord(l) * ord(r) for l, r in zip(left, right)]) + ord(res[len(res)//2])
  temp2 = 0
  for key, item in enumerate(res, 1):
    if key % 2:
      temp2 += ord(res[key-1]) * key
    else:
      temp2 -= ord(res[key-1]) * key
  return (temp1 * temp2) % 123456791


#2
"""
–§—É–Ω–∫—Ü–∏—è limited_hash() üå∂Ô∏è
–†–µ–∞–ª–∏–∑—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é limited_hash(), –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ç—Ä–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ –≤ —Å–ª–µ–¥—É—é—â–µ–º –ø–æ—Ä—è–¥–∫–µ:

left ‚Äî —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ
right ‚Äî —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ
hash_function ‚Äî —Ö–µ—à-—Ñ—É–Ω–∫—Ü–∏—è, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ä–∞–≤–Ω—è–µ—Ç—Å—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ hash()
–§—É–Ω–∫—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –Ω–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç, –≤—ã—á–∏—Å–ª—è–µ—Ç –µ–≥–æ —Ö–µ—à-–∑–Ω–∞—á–µ–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é —Ñ—É–Ω–∫—Ü–∏–∏ hash_function(), –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –µ–≥–æ –≤ —á–∏—Å–ª–æ, –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—â–µ–µ –¥–∏–∞–ø–∞–∑–æ–Ω—É [left; right], –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç.

–ï—Å–ª–∏ –≤—ã—á–∏—Å–ª–µ–Ω–Ω–æ–µ —Ö–µ—à-–∑–Ω–∞—á–µ–Ω–∏–µ —É–∂–µ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –¥–∏–∞–ø–∞–∑–æ–Ω—É [left; right], —Ç–æ —Ñ—É–Ω–∫—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –µ–≥–æ –±–µ–∑ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è. –ï—Å–ª–∏ –≤—ã—á–∏—Å–ª–µ–Ω–Ω–æ–µ —Ö–µ—à-–∑–Ω–∞—á–µ–Ω–∏–µ —Ä–∞–≤–Ω—è–µ—Ç—Å—è right + 1, —Ç–æ —Ñ—É–Ω–∫—Ü–∏—è –ø–µ—Ä–µ–¥ –≤–æ–∑–≤—Ä–∞—Ç–æ–º –¥–æ–ª–∂–Ω–∞ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –µ–≥–æ –≤ left, –µ—Å–ª–∏ right + 2 ‚Äî –≤ left + 1, –µ—Å–ª–∏ right + 3 ‚Äî –≤ left + 2, –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ. –ê–Ω–∞–ª–æ–≥–∏—á–Ω—ã–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è, –Ω–æ –≤ –¥—Ä—É–≥—É—é —Å—Ç–æ—Ä–æ–Ω—É, –¥–æ–ª–∂–Ω—ã –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –¥–ª—è —Ö–µ—à-–∑–Ω–∞—á–µ–Ω–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –º–µ–Ω—å—à–µ left. –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –¥–æ–ª–∂–Ω—ã –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è —Ü–∏–∫–ª–∏—á–Ω–æ –ø—Ä–∏ –æ—á–µ—Ä–µ–¥–Ω–æ–º –≤—ã—Ö–æ–¥–µ –∏–∑ –¥–∏–∞–ø–∞–∑–æ–Ω–∞.

–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ 1. –í —Ç–µ—Å—Ç–∏—Ä—É—é—â—É—é —Å–∏—Å—Ç–µ–º—É —Å–¥–∞–π—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É, —Å–æ–¥–µ—Ä–∂–∞—â—É—é —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—É—é —Ñ—É–Ω–∫—Ü–∏—é limited_hash(), –Ω–æ –Ω–µ –∫–æ–¥, –≤—ã–∑—ã–≤–∞—é—â–∏–π –µ–µ.

–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ 2. –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–æ—Å—Ç—É–ø–Ω—ã –ø–æ —Å—Å—ã–ª–∫–∞–º:

–ê—Ä—Ö–∏–≤ —Å —Ç–µ—Å—Ç–∞–º–∏
GitHub
Sample Input 1:

hash_function = limited_hash(10, 15)

print(hash_function(10))
print(hash_function(11))
print(hash_function(15))
Sample Output 1:

10
11
15
Sample Input 2:

hash_function = limited_hash(10, 15)

print(hash_function(16))
print(hash_function(17))
print(hash_function(21))
print(hash_function(22))
print(hash_function(23))
Sample Output 2:

10
11
15
10
11
Sample Input 3:

hash_function = limited_hash(10, 15)

print(hash_function(9))
print(hash_function(8))
print(hash_function(4))
print(hash_function(3))
print(hash_function(2))
Sample Output 3:

15
14
10
15
14


"""

# def limited_hash(left, right, hash_function=hash):
#   def behavior(obj):
#     res = hash_function(obj)
#     while True:
#       if left <= res <= right:
#         return res
#       if res > right:
#         res = left + (res - right - 1)
#       if res < left:
#         res = right - (left - res) + 1
      
#   return behavior


def limited_hash(left, right, hash_function=hash):
    def inner_hash_function(x):
        return left + (hash_function(x) - left) % (right - left + 1)
    return inner_hash_function




if __name__ == '__main__':
    hash_function = limited_hash(10, 15)
    print(hash_function(10))
    print(hash_function(11))
    print(hash_function(15))

    print(hash_function(16))
    print(hash_function(17))
    print(hash_function(21))
    print(hash_function(22))
    print(hash_function(23))
    print(hash_function(3))